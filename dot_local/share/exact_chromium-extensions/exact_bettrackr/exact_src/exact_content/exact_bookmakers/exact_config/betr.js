/*!
 * BetTrackr Chrome Extension (c) 2025 BetTrackr Pty Ltd
 * Licensed for use with a valid BetTrackr account only.
 * Reverse engineering or modification is prohibited.
 */
const betr={bookmaker_name:"Betr",balance:'button[aria-controls="account-menu"]',pages:{"*":{button:".MuiCardContent-root, .MuiPaper-root.MuiPaper-elevation1.MuiPaper-rounded",filter:function(t){return 0===t.find(".MuiCardContent-root").length&&t.text().includes("Stake")},fields:{bet_type:async function(t){return"Qualifying Bet"},stake:async function(t){return getFirstMatchText(t,["#adornment-amount",'.MuiTypography-colorTextSecondary:contains("Stake") span','.MuiTypography-body1:contains("Stake") span'],((t,e,n)=>t.trim()),"")},odds:async function(t){return getFirstMatchText(t,[".MuiTypography-subtitle2",'.MuiTypography-caption:contains("Price") span','.MuiTypography-caption:contains("Fixed win") span'],((t,e,n)=>{if(e.is("h6")||e.is("h3")){const n=e.children("span");if(n.length>=2)return n.eq(1).text().trim();if(0==n.length){const e=t.match(/@\s*([\d.]+)$/);return e?e[1]:""}}return t}),"")},selection:async function(t){return getFirstMatchText(t,[".MuiTypography-subtitle1",".MuiTypography-subtitle2"],(function(t,e,n){return".MuiTypography-subtitle2"==n?t.split("@")[0]?.trim()||"":t}),"")},status:async function(t){return getFirstMatchText(t,["p.MuiTypography-subtitle2.MuiTypography-colorTextSecondary"],(function(t,e,n){return t.includes("Won")?"Won":t.includes("No Return")?"Lost":"Pending"}),"Pending")},date_placed:async function(t){if(t.parent().find("p")){const e=t.parent().find("p").first().text(),n=new Date(e);return isNaN(n)?"":formatLocalDate(n)}return""},date_resulted:async function(t){if(t.parent().find("p")){const e=t.parent().find("p").first().text(),n=new Date(e);return isNaN(n)?"":formatLocalDate(n)}return""},bookmaker_internal_id:async function(t){let e="";const n=t[0],i=Array.from(n.querySelectorAll("h6")).find((t=>t.textContent.includes("Bet Placed #")));if(i){const t=i.textContent.match(/#([A-Z0-9]+)/i);t&&(e=t[1])}return e},is_racing:async function(t){let e;return e=t.find("div.MuiBox-root > a").length>0?t.find("div.MuiBox-root > a").text().split(" - ")[0].trim():getFirstMatchText(t,[".MuiButton-label"],(function(t,e,n){return t.split(" - ")[0].trim()})),!!e.includes("Race")||/\sR\d+$/.test(e)},track:async function(t){let e;return e=t.find("div.MuiBox-root > a").length>0?t.find("div.MuiBox-root > a").text().split("-")[0].trim():getFirstMatchText(t,[".MuiButton-label"],(function(t,e,n){return t.split(" - ")[0].trim()})),e.replace(/R\d+/,"").replace("Synthetic","").trim()},runner:async function(t){return getFirstMatchText(t,[".MuiTypography-subtitle1",".MuiTypography-subtitle2"],(function(t,e,n){return".MuiTypography-subtitle2"==n?t.split("@")[0]?.trim()||"":t}),"").replace(/^\d+\.\s*/,"").replace(/\s*\(\d+\)$/,"").replaceAll("'","")},event_name:async function(t){let e;if(e=t.find("div.MuiBox-root > a").length>0?t.find("div.MuiBox-root > a").text().split(" - ")[0].trim():getFirstMatchText(t,[".MuiButton-label"],(function(t,e,n){return t.split(" - ")[0].trim()})),"Match Result"==e){const t=location.href.match(/\/([^/]*-v-[^/]*)\//i);t&&(e=t[1].replace("-v-"," v ").replace("-"," "))}return e.replace("Match Result","").replaceAll("(","").replaceAll(")","")},event_date:async function(t){if($(".MuiTab-root.Mui-selected").text().includes("Pending"))return"";if(t.parent().find("p")){const e=t.parent().find("p").first().text(),n=new Date(e);return isNaN(n)?"":formatLocalDate(n)}return""}}}}};function isBetBetrHistory(t){return t.hasClass("MuiPaper-root")&&t.hasClass("MuiPaper-elevation1")&&t.hasClass("MuiPaper-rounded")}$("<style>").prop("type","text/css").html(".MuiPaper-root { overflow: visible !important; }").appendTo("head");