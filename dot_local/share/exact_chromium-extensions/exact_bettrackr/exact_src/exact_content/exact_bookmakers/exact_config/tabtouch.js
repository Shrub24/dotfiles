/*!
 * BetTrackr Chrome Extension (c) 2025 BetTrackr Pty Ltd
 * Licensed for use with a valid BetTrackr account only.
 * Reverse engineering or modification is prohibited.
 */
const tabtouch={bookmaker_name:"Tab Touch",balance:"#account-info-account-balance",pages:{"*":{button:".mod-KambiBC-betslip__outcome-list > li, .bet-item.fixed-bet, .mod-KambiBC-betslip-feedback, .mod-KambiBC-betslip__receipt, #modalQuickbet section:first, .mod-KambiBC-betslip__tab-content",filter:function(t,e){return t.find(".mod-KambiBC-stake-input__container > input").length>0||t.find(".bet-amount").length>0||t.text().includes("Please confirm your bet")||t.text().includes("Your bet has been placed!")||t.closest("#modalQuickbet").length>0},fields:{bet_type:async function(t){return"Qualifying Bet"},stake:async function(t){return getFirstMatchText(t,[".mod-KambiBC-stake-input__container > input",".win",".mod-KambiBC-betslip-confirmation-feedback__currency",".mod-KambiBC-betslip-receipt__stake",'[data-testid="Quickbet.Investment"] span[data-tid-money]',"div[data-tid-receipt-betcost] > :nth-child(2)",".value"],((t,e,i)=>t))},odds:async function(t){return getFirstMatchText(t,[".mod-KambiBC-betslip-outcome__odds",".dividend",".KambiBC-odds.KambiBC-outcome-odds-bet-confirmation__odds",".mod-KambiBC-betslip-receipt__value",'[data-tid="qb-win-price"]',"[data-tid-receipt-projrtn]"],((t,e,i)=>{if('[data-tid="qb-win-price"]'==i){if((t.match(/\./g)||[]).length>1)return""}else if("[data-tid-receipt-projrtn]"==i)return(e.find("span[data-tid-money]").text().replace("$","")/e.next().find("span[data-tid-money]").text().replace("$","")).toFixed(2);return t}),"")},selection:async function(t){return getSelection(t)},date_placed:async function(t){return""},status:async function(t){return"Pending"},date_resulted:async function(t){return""},bookmaker_internal_id:async function(t){return getFirstMatchText(t,[".mod-KambiBC-betslip-receipt-header__receipt-id span","div[data-tid-receipt-ticket] > :nth-child(2)"],((t,e,i)=>"div[data-tid-receipt-ticket]"==i?e.children()[1].text():t))},is_racing:async function(t){return isRacingFromEventName(getEventName(t))||t.find(".race").length>0},track:async function(t){return getEventName(t).split("-")[0].trim()},runner:async function(t){const e=getSelection(t);return(e.split("-")[1]||e).split("(")[0].trim().replaceAll("'","")||""},event_name:async function(t){return getEventName(t)},event_date:async function(t){return""}}}}};function getSelection(t){return getFirstMatchText(t,[".mod-KambiBC-betslip-outcome__outcome-label",".starter-name",".bet-details",".KambiBC-outcome-bet-confirmation__outcome-label",".mod-KambiBC-receipt-outcome-item__outcome-label","span[data-tid-selection-text]"],((t,e,i)=>".bet-details"==i?t.replace(/\s+/g," ").replace(/Expand\/Collapse/g,"").trim():t.trim()),"")}function getEventName(t){return getFirstMatchText(t,['[data-testid="RaceInfo"] .css-248241.e16mw3wc3',".mod-KambiBC-betslip-outcome__event-link",".meeting"],((t,e,i)=>t.replace("-","v").trim()),"")}function isMulti(){return"Multi"==$(".mod-KambiBC-tabs__tab_title").text()}$("<style>").prop("type","text/css").html("#mod-KambiBC-betslip-container .mod-KambiBC-betslip__wrapper, #mod-KambiBC-betslip-container, .mod-KambiBC-betslip, .mod-KambiBC-betslip__wrapper :not(.bettrackr-popover):not(.bettrackr-popover *) { overflow: visible !important;  overflow-x: visible !important;  overflow-y: visible !important; position: relative !important; }").appendTo("head");