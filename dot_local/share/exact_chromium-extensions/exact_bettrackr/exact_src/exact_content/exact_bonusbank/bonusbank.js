/*!
 * BetTrackr Chrome Extension (c) 2025 BetTrackr Pty Ltd
 * Licensed for use with a valid BetTrackr account only.
 * Reverse engineering or modification is prohibited.
 */
function waitForElement(t,e){const a=document.querySelector(t);if(a)return e(a);setTimeout((()=>waitForElement(t,e)),300)}function appendMessage(t,e,a){const r=$("#container-"+t),n=e?"text-primary":"text-danger",s="bettrackr-msg-"+t;$("#"+s).remove();const o=$(`<div id="${s}">`).addClass(`bettrackr-error-message ${n} fw-bold text-wrap d-block`).html(a).css({"font-size":"0.9em"});r.append(o)}async function isLoggedIn(){return new Promise((t=>{chrome.runtime.sendMessage({action:"isLoggedIn"},(e=>{t(!0===e)}))}))}function addBetTrackrButton(t,e,a,r,n,s=[],o,c=[]){const i="Track with BetTrackr",d=$(`<div id="container-${e}" class="${r||""}">`),l=$('<button type="button" id="'+e+'-btn">').text(i).addClass("btn btn-sm btn-primary btn-bettrackr btn-bettrackr-track").css({"border-left":"1px solid var(--bettrackr-green)","flex-shrink":"0",height:"34px"}).on("click",(async()=>{if("function"!=typeof n)return;if($("bettrackr-msg-"+e).remove(),!await isLoggedIn())return appendMessage(e,!1,"Please login."),void $(t).before(d);const r=n(d,...s);let u="";if(0==r.trim().length)return appendMessage(e,!1,"Please fill out all fields."),void $(t).before(d);"function"==typeof o&&(u=o(...c)),chrome.runtime.sendMessage({action:"copyBonusbankRow",tool:a||"",toolMode:u||"",data:r,mode:"bonusbank"},(t=>{let a=t.message;t.success?(l.text("Bets Tracked!").attr("disabled",!0),setTimeout((()=>{l.text(i).attr("disabled",!1)}),3e3)):a=t.error.message,appendMessage(e,t.success,a)}))}));return d.append(l),$(t).before(d),d}(async()=>{const t=window.location.pathname;t.startsWith("/dutch-calculator")&&runDutchCalculator(),t.startsWith("/matched-betting-calculator-australia")&&runBackLayCalculator(),t.startsWith("/advanced-calculator")&&runAdvancedBackLay(),t.startsWith("/two-up-software")&&run2Up()})();